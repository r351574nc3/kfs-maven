<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_22) on Wed May 30 00:42:03 MST 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
LockService (kfs 1.0.5-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2012-05-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LockService (kfs 1.0.5-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LockService.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/CalculatedSalaryFoundationTrackerOverrideService.html" title="interface in org.kuali.kfs.module.bc.document.service"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/OrganizationBCDocumentSearchService.html" title="interface in org.kuali.kfs.module.bc.document.service"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?org/kuali/kfs/module/bc/document/service/LockService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LockService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.kuali.kfs.module.bc.document.service</FONT>
<BR>
Interface LockService</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/impl/LockServiceImpl.html" title="class in org.kuali.kfs.module.bc.document.service.impl">LockServiceImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.42"><B>LockService</B></A></DL>
</PRE>

<P>
This interface defines the methods that a LockService must provide. LockServiceImpl consists of methods that manage the various
 locks used in the Budget module. Locks are needed to serialize user updates since a BC Edoc is potentially editable by many users
 simultaneously and the default Optimistic locking scheme used by KFS would produce an inconsistent set of data. <B>Accountlock</B>
 controls exclusive access to the BC Edoc <B>Positionlock</B> controls exclusive access to a BC Position <B>Fundinglock</B>
 controls shared funding access. An associated Positionlock must exist before attempting to get a Fundinglock. Accountlock and
 Fundinglock are mutex. <B>Transactionlock</B> controls exclusive access to serialize updates to the accounting lines in the BC
 Edoc. A Fundinglock must exist before creating a Transactionlock. The Transactionlock lifecycle is short, required only for the
 duration of the accounting line update.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#checkLockExists(org.kuali.kfs.module.bc.businessobject.BudgetConstructionLockSummary)">checkLockExists</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockSummary.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockSummary</A>&nbsp;lockSummary)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper method to check if a lock exists for the given parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#doUnlock(org.kuali.kfs.module.bc.businessobject.BudgetConstructionLockSummary)">doUnlock</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockSummary.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockSummary</A>&nbsp;lockSummary)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper method to check the lock type and do the unlock with the lock summary fields.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#getAllAccountLocks(java.lang.String)">getAllAccountLocks</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves all current account locks for the given user (or all locks if user is null/empty).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#getAllPositionFundingLocks(java.lang.String)">getAllPositionFundingLocks</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves all current position/funding locks for the given user (or all locks if user is null/empty).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#getAllTransactionLocks(java.lang.String)">getAllTransactionLocks</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves all current transaction locks for the given user (or all locks if user is null/empty).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html?is-external=true" title="class or interface in java.util">SortedSet</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionFundingLock.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionFundingLock</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#getFundingLocks(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader)">getFundingLocks</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This returns the set of BCFundingLocks associated with a BCHeader.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionFundingLock.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionFundingLock</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#getOrphanedFundingLocks(java.lang.String)">getOrphanedFundingLocks</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves all funding locks that do not have a corresponding position lock for the given user (or all locks if user is
 null/empty).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#getOrphanedPositionLocks(java.lang.String)">getOrphanedPositionLocks</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves all current position locks without a funding lock for the given user (or all locks if user is null/empty).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isAccountLocked(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader)">isAccountLocked</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method checks the database for an accountlock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isAccountLocked(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding)">isAccountLocked</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method checks the database for an accountlock according to the given appointment funding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isAccountLockedByUser(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, org.kuali.rice.kim.bo.Person)">isAccountLockedByUser</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;budgetConstructionHeader,
                                           org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;determine whether the account lock on the given budget document is held by the the specified user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isAccountLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)">isAccountLockedByUser</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks the given user has an account lock for the given document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isFundingLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)">isFundingLockedByUser</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if the given user has a funding lock for the given accounting key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isPositionFundingLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)">isPositionFundingLockedByUser</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks the given user has an position/funding lock for the given position number and accounting key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isPositionLocked(java.lang.String, java.lang.Integer)">isPositionLocked</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This checks the database for an existing positionlock</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isPositionLockedByUser(java.lang.String, java.lang.Integer, java.lang.String)">isPositionLockedByUser</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks the given user has an position lock for the given position number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isTransactionLocked(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer)">isTransactionLocked</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This checks the database for an existing transactionlock for the BC EDoc (account).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#isTransactionLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)">isTransactionLockedByUser</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks the given user has an transaction lock for the given document.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockAccount(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, java.lang.String)">lockAccount</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader,
                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method attempts to lock the given Account for the passed in uuid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockAccountAndCommit(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, java.lang.String)">lockAccountAndCommit</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader,
                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrives an account lock (@see
 org.kuali.kfs.module.bc.document.service.LockService#lockAccount(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader,
 java.lang.String) and commits the lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockFunding(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, java.lang.String)">lockFunding</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader,
                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method sets a funding lock associated to the header.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockFunding(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)">lockFunding</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                       org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acquire a lock for the given appointment funding</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockPendingBudgetConstructionAppointmentFundingRecords(java.util.List, org.kuali.rice.kim.bo.Person)">lockPendingBudgetConstructionAppointmentFundingRecords</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt;&nbsp;fundingRecords,
                                                                                                             org.kuali.rice.kim.bo.Person&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves account locks for funding records, for use in the payrate import process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockPosition(org.kuali.kfs.module.bc.businessobject.BudgetConstructionPosition, org.kuali.rice.kim.bo.Person)">lockPosition</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&nbsp;position,
                         org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acquire a lock for the given budget position</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockPosition(java.lang.String, java.lang.Integer, java.lang.String)">lockPosition</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This locks the position, meaning it sets the position lock id field with the puid.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockPositionAndActiveFunding(java.lang.Integer, java.lang.String, java.lang.String)">lockPositionAndActiveFunding</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;universityFiscalYear,
                                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Locks the position record for the given key if not already locked.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockTransaction(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)">lockTransaction</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                               org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attemps to have a transaction lock based on the information provided by the given funding line</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#lockTransaction(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)">lockTransaction</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This attempts a transactionlock on a BC Edoc for a pUId.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockAccount(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader)">unlockAccount</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method attempts to unlock the given BudgetConstructionHeader.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockFunding(java.util.List, org.kuali.rice.kim.bo.Person)">unlockFunding</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt;&nbsp;lockedFundings,
                           org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release the locks for the given appointment fundings if any</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockFunding(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)">unlockFunding</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                           org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release the lock for the given appointment funding if any</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockFunding(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)">unlockFunding</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This removes the fundinglock for the account and user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockPosition(java.lang.String, java.lang.Integer)">unlockPosition</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This removes an existing positionlock</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockPosition(java.lang.String, java.lang.Integer, java.lang.String)">unlockPosition</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release the locks on a positions with the given information</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockPositionAndActiveFunding(java.lang.Integer, java.lang.String, java.lang.String)">unlockPositionAndActiveFunding</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;universityFiscalYear,
                                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unlocks the position and all associated funding lines not marked as delete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockPostion(org.kuali.kfs.module.bc.businessobject.BudgetConstructionPosition, org.kuali.rice.kim.bo.Person)">unlockPostion</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&nbsp;position,
                           org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release the lock for the given position if any</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockPostion(java.util.List, org.kuali.rice.kim.bo.Person)">unlockPostion</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&gt;&nbsp;lockedPositions,
                           org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release the locks for the given positions if any</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockTransaction(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)">unlockTransaction</A></B>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                                   org.kuali.rice.kim.bo.Person&nbsp;person)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attemps to unlock a transaction based on the information provided by the given funding line</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/LockService.html#unlockTransaction(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer)">unlockTransaction</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This removes an existing transactionlock for a BC EDoc (account).</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="lockAccount(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, java.lang.String)"><!-- --></A><H3>
lockAccount</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.54"><B>lockAccount</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader,
                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>This method attempts to lock the given Account for the passed in uuid. Finding an exising account lock for the uuid returns
 success without having to relock After setting an accountlock, if any funding locks are found, it releases the accountlock
 and sets BCLockStatus with LockStatus.FLOCK_FOUND. Accountlocks and Fundinglocks are mutex
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bcHeader</CODE> - <DD><CODE>principalId</CODE> - 
<DT><B>Returns:</B><DD>BudgetConstructionLockStatus with lockStatus.SUCCESS, OPTIMISTIC_EX (lost optimistic lock), FLOCK_FOUND (also sets
         fundingLocks), BY_OTHER (also sets accountLockOwner), NO_DOOR (null bcHeader)</DL>
</DD>
</DL>
<HR>

<A NAME="isAccountLocked(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader)"><!-- --></A><H3>
isAccountLocked</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.62"><B>isAccountLocked</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader)</PRE>
<DL>
<DD>This method checks the database for an accountlock. It assumes a valid bcHeader parameter
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bcHeader</CODE> - 
<DT><B>Returns:</B><DD>Returns true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="isAccountLocked(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding)"><!-- --></A><H3>
isAccountLocked</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.71"><B>isAccountLocked</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding)</PRE>
<DL>
<DD>This method checks the database for an accountlock according to the given appointment funding. It assumes a valid
 appointmentFunding parameter
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appointmentFunding</CODE> - the given appointment funding
<DT><B>Returns:</B><DD>Returns true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="isAccountLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
isAccountLockedByUser</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.83"><B>isAccountLockedByUser</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Checks the given user has an account lock for the given document.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - - chart code of account lock<DD><CODE>accountNumber</CODE> - - account number of account lock<DD><CODE>subAccountNumber</CODE> - - sub account number of account lock<DD><CODE>fiscalYear</CODE> - - fiscal year of account lock<DD><CODE>principalId</CODE> - - lock user id
<DT><B>Returns:</B><DD>true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="unlockAccount(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader)"><!-- --></A><H3>
unlockAccount</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.91"><B>unlockAccount</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader)</PRE>
<DL>
<DD>This method attempts to unlock the given BudgetConstructionHeader.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bcHeader</CODE> - 
<DT><B>Returns:</B><DD>LockStatus.SUCCESS, NO_DOOR (not found), OPTIMISTIC_EX (lost optimistic lock)</DL>
</DD>
</DL>
<HR>

<A NAME="getFundingLocks(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader)"><!-- --></A><H3>
getFundingLocks</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html?is-external=true" title="class or interface in java.util">SortedSet</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionFundingLock.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionFundingLock</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.99"><B>getFundingLocks</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader)</PRE>
<DL>
<DD>This returns the set of BCFundingLocks associated with a BCHeader. The set is sorted by the Person name
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bcHeader</CODE> - 
<DT><B>Returns:</B><DD>SortedSet<BudgetConstructionFundingLock></DL>
</DD>
</DL>
<HR>

<A NAME="lockFunding(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, java.lang.String)"><!-- --></A><H3>
lockFunding</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.110"><B>lockFunding</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader,
                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>This method sets a funding lock associated to the header. It tests for an accountlock before/after to ensure there is no
 locking conflict. Finding an accountlock after setting a fundinglock causes the fundinglock to be released. account locks and
 funding locks are mutex. Finding a funding lock for the passed in uuid returns success without having to relock
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bcHeader</CODE> - <DD><CODE>principalId</CODE> - 
<DT><B>Returns:</B><DD>BudgetConstructionLockStatus with lockStatus.SUCCESS, BY_OTHER (accountlock found)</DL>
</DD>
</DL>
<HR>

<A NAME="lockFunding(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
lockFunding</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.119"><B>lockFunding</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                                         org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>acquire a lock for the given appointment funding
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appointmentFunding</CODE> - the given appointment funding<DD><CODE>person</CODE> - the specified user
<DT><B>Returns:</B><DD>BudgetConstructionLockStatus with lockStatus.SUCCESS, BY_OTHER (accountlock found)</DL>
</DD>
</DL>
<HR>

<A NAME="unlockFunding(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
unlockFunding</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.131"><B>unlockFunding</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                     <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>This removes the fundinglock for the account and user
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - <DD><CODE>accountNumber</CODE> - <DD><CODE>subAccountNumber</CODE> - <DD><CODE>fiscalYear</CODE> - <DD><CODE>principalId</CODE> - 
<DT><B>Returns:</B><DD>LockStatus.SUCCESS, NO_DOOR (no fundinglock found)</DL>
</DD>
</DL>
<HR>

<A NAME="unlockFunding(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
unlockFunding</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.139"><B>unlockFunding</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                                     org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>release the lock for the given appointment funding if any
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appointmentFunding</CODE> - the given appointment funding that could have lock<DD><CODE>person</CODE> - the user who owns the lock on the given appointment funding</DL>
</DD>
</DL>
<HR>

<A NAME="unlockFunding(java.util.List, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
unlockFunding</H3>
<PRE>
void <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.147"><B>unlockFunding</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt;&nbsp;lockedFundings,
                   org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>release the locks for the given appointment fundings if any
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockedFundings</CODE> - the given appointment fundings that could have locks<DD><CODE>person</CODE> - the user who owns the locks on the given appointment fundings</DL>
</DD>
</DL>
<HR>

<A NAME="isFundingLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
isFundingLockedByUser</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.159"><B>isFundingLockedByUser</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                              <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Checks if the given user has a funding lock for the given accounting key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - - chart code of funding lock<DD><CODE>accountNumber</CODE> - - account number of funding lock<DD><CODE>subAccountNumber</CODE> - - sub account number of funding lock<DD><CODE>fiscalYear</CODE> - - fiscal year of funding lock<DD><CODE>principalId</CODE> - - lock user id
<DT><B>Returns:</B><DD>true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="lockPosition(java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
lockPosition</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.171"><B>lockPosition</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                          <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                          <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>This locks the position, meaning it sets the position lock id field with the puid. Finding the position already locked by the
 same user simply returns success.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>positionNumber</CODE> - <DD><CODE>fiscalYear</CODE> - <DD><CODE>principalId</CODE> - 
<DT><B>Returns:</B><DD>BudgetConstructionLockStatus with lockStatus.SUCCESS, OPTIMISTIC_EX (lost optimistic lock), BY_OTHER (also sets
         positionLockOwner), NO_DOOR (BudgetConstructionPosition found)</DL>
</DD>
</DL>
<HR>

<A NAME="lockPosition(org.kuali.kfs.module.bc.businessobject.BudgetConstructionPosition, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
lockPosition</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.181"><B>lockPosition</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&nbsp;position,
                                          org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>acquire a lock for the given budget position
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>position</CODE> - the given position<DD><CODE>person</CODE> - the specified user
<DT><B>Returns:</B><DD>BudgetConstructionLockStatus with lockStatus.SUCCESS, OPTIMISTIC_EX (lost optimistic lock), BY_OTHER (also sets
         positionLockOwner), NO_DOOR (BudgetConstructionPosition found)</DL>
</DD>
</DL>
<HR>

<A NAME="isPositionLocked(java.lang.String, java.lang.Integer)"><!-- --></A><H3>
isPositionLocked</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.190"><B>isPositionLocked</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</PRE>
<DL>
<DD>This checks the database for an existing positionlock
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>positionNumber</CODE> - <DD><CODE>fiscalYear</CODE> - 
<DT><B>Returns:</B><DD>true or false (not locked or BudgetConstructionPosition not found)</DL>
</DD>
</DL>
<HR>

<A NAME="isPositionLockedByUser(java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
isPositionLockedByUser</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.200"><B>isPositionLockedByUser</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Checks the given user has an position lock for the given position number.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>positionNumber</CODE> - - position number of position record<DD><CODE>fiscalYear</CODE> - - fiscal year of position record<DD><CODE>principalId</CODE> - - lock user id
<DT><B>Returns:</B><DD>true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="isPositionFundingLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
isPositionFundingLockedByUser</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.213"><B>isPositionFundingLockedByUser</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Checks the given user has an position/funding lock for the given position number and accounting key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>positionNumber</CODE> - - position number of position record<DD><CODE>chartOfAccountsCode</CODE> - - chart code of funding lock<DD><CODE>accountNumber</CODE> - - account number of funding lock<DD><CODE>subAccountNumber</CODE> - - sub account number of funding lock<DD><CODE>fiscalYear</CODE> - - fiscal year of position and funding record<DD><CODE>principalId</CODE> - - lock user id
<DT><B>Returns:</B><DD>true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="unlockPosition(java.lang.String, java.lang.Integer)"><!-- --></A><H3>
unlockPosition</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.223"><B>unlockPosition</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</PRE>
<DL>
<DD>This removes an existing positionlock
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>positionNumber</CODE> - <DD><CODE>fiscalYear</CODE> - 
<DT><B>Returns:</B><DD>LockStatus.SUCCESS (success or already unlocked), OPTIMISTIC_EX (lost optimistic lock - unlikely), NO_DOOR
         (BudgetConstructionPosition not found)</DL>
</DD>
</DL>
<HR>

<A NAME="unlockPosition(java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
unlockPosition</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.234"><B>unlockPosition</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>release the locks on a positions with the given information
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>positionNumber</CODE> - the given position number of a position<DD><CODE>fiscalYear</CODE> - the given fiscal year of a position<DD><CODE>person</CODE> - the specified user who owns the locks on the position
<DT><B>Returns:</B><DD>LockStatus.SUCCESS (success or already unlocked), OPTIMISTIC_EX (lost optimistic lock - unlikely), NO_DOOR
         (BudgetConstructionPosition not found)</DL>
</DD>
</DL>
<HR>

<A NAME="unlockPostion(org.kuali.kfs.module.bc.businessobject.BudgetConstructionPosition, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
unlockPostion</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.242"><B>unlockPostion</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&nbsp;position,
                                     org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>release the lock for the given position if any
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>position</CODE> - the given budget construction position that could have locks<DD><CODE>person</CODE> - the specified user who owns the lock on the given position</DL>
</DD>
</DL>
<HR>

<A NAME="unlockPostion(java.util.List, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
unlockPostion</H3>
<PRE>
void <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.250"><B>unlockPostion</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&gt;&nbsp;lockedPositions,
                   org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>release the locks for the given positions if any
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockedPositions</CODE> - the given budget construction positions that could have locks<DD><CODE>person</CODE> - the specified user who owns the locks on the given positions</DL>
</DD>
</DL>
<HR>

<A NAME="lockTransaction(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
lockTransaction</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.264"><B>lockTransaction</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>This attempts a transactionlock on a BC Edoc for a pUId. It retries based on the setting of
 BCConstants.maxLockRetry.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - <DD><CODE>accountNumber</CODE> - <DD><CODE>subAccountNumber</CODE> - <DD><CODE>fiscalYear</CODE> - <DD><CODE>principalId</CODE> - 
<DT><B>Returns:</B><DD>BudgetConstructionLockStatus with lockStatus.SUCCESS, OPTIMISTIC_EX (lost optimistic lock - unlikely) BY_OTHER
         (retries exhausted, also sets transactionLockOwner), NO_DOOR (BudgetConstructionHeader not found)</DL>
</DD>
</DL>
<HR>

<A NAME="lockTransaction(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
lockTransaction</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.272"><B>lockTransaction</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                                             org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>attemps to have a transaction lock based on the information provided by the given funding line
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appointmentFunding</CODE> - the given appointment funding<DD><CODE>person</CODE> - the specified user</DL>
</DD>
</DL>
<HR>

<A NAME="isTransactionLocked(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer)"><!-- --></A><H3>
isTransactionLocked</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.283"><B>isTransactionLocked</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                            <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                            <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                            <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</PRE>
<DL>
<DD>This checks the database for an existing transactionlock for the BC EDoc (account).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - <DD><CODE>accountNumber</CODE> - <DD><CODE>subAccountNumber</CODE> - <DD><CODE>fiscalYear</CODE> - 
<DT><B>Returns:</B><DD>true or false (not locked or BudgetConstructionHeader not found)</DL>
</DD>
</DL>
<HR>

<A NAME="isTransactionLockedByUser(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer, java.lang.String)"><!-- --></A><H3>
isTransactionLockedByUser</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.295"><B>isTransactionLockedByUser</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                  <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                  <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                  <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear,
                                  <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Checks the given user has an transaction lock for the given document.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - - chart code of transaction lock<DD><CODE>accountNumber</CODE> - - account number of transaction lock<DD><CODE>subAccountNumber</CODE> - - sub account number of transaction lock<DD><CODE>fiscalYear</CODE> - - fiscal year of transaction lock<DD><CODE>principalId</CODE> - - lock user id
<DT><B>Returns:</B><DD>true if locked, false if not locked or not found in the database</DL>
</DD>
</DL>
<HR>

<A NAME="unlockTransaction(java.lang.String, java.lang.String, java.lang.String, java.lang.Integer)"><!-- --></A><H3>
unlockTransaction</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.307"><B>unlockTransaction</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;chartOfAccountsCode,
                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;accountNumber,
                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;subAccountNumber,
                                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;fiscalYear)</PRE>
<DL>
<DD>This removes an existing transactionlock for a BC EDoc (account).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chartOfAccountsCode</CODE> - <DD><CODE>accountNumber</CODE> - <DD><CODE>subAccountNumber</CODE> - <DD><CODE>fiscalYear</CODE> - 
<DT><B>Returns:</B><DD>LockStatus.SUCCESS (success or already unlocked), OPTIMISTIC_EX (lost optimistic lock - unlikely), NO_DOOR
         (BudgetConstructionHeader not found)</DL>
</DD>
</DL>
<HR>

<A NAME="unlockTransaction(org.kuali.kfs.module.bc.businessobject.PendingBudgetConstructionAppointmentFunding, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
unlockTransaction</H3>
<PRE>
void <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.315"><B>unlockTransaction</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&nbsp;appointmentFunding,
                       org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>attemps to unlock a transaction based on the information provided by the given funding line
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appointmentFunding</CODE> - the given appointment funding<DD><CODE>person</CODE> - the specified user</DL>
</DD>
</DL>
<HR>

<A NAME="getAllAccountLocks(java.lang.String)"><!-- --></A><H3>
getAllAccountLocks</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.323"><B>getAllAccountLocks</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</PRE>
<DL>
<DD>Retrieves all current account locks for the given user (or all locks if user is null/empty).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockUnivId</CODE> - - universal id that will be used in lock query
<DT><B>Returns:</B><DD>budget headers that are locked</DL>
</DD>
</DL>
<HR>

<A NAME="getAllTransactionLocks(java.lang.String)"><!-- --></A><H3>
getAllTransactionLocks</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.331"><B>getAllTransactionLocks</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</PRE>
<DL>
<DD>Retrieves all current transaction locks for the given user (or all locks if user is null/empty).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockUnivId</CODE> - - universal id that will be used in lock query
<DT><B>Returns:</B><DD>budget headers that are locked</DL>
</DD>
</DL>
<HR>

<A NAME="getOrphanedFundingLocks(java.lang.String)"><!-- --></A><H3>
getOrphanedFundingLocks</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionFundingLock.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionFundingLock</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.340"><B>getOrphanedFundingLocks</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</PRE>
<DL>
<DD>Retrieves all funding locks that do not have a corresponding position lock for the given user (or all locks if user is
 null/empty).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockUnivId</CODE> - - universal id that will be used in lock query
<DT><B>Returns:</B><DD>funding locks records</DL>
</DD>
</DL>
<HR>

<A NAME="getAllPositionFundingLocks(java.lang.String)"><!-- --></A><H3>
getAllPositionFundingLocks</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.348"><B>getAllPositionFundingLocks</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</PRE>
<DL>
<DD>Retrieves all current position/funding locks for the given user (or all locks if user is null/empty).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockUnivId</CODE> - - universal id that will be used in lock query
<DT><B>Returns:</B><DD>position/funding records that are locked.</DL>
</DD>
</DL>
<HR>

<A NAME="getOrphanedPositionLocks(java.lang.String)"><!-- --></A><H3>
getOrphanedPositionLocks</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionPosition.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionPosition</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.356"><B>getOrphanedPositionLocks</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;lockUnivId)</PRE>
<DL>
<DD>Retrieves all current position locks without a funding lock for the given user (or all locks if user is null/empty).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockUnivId</CODE> - universal id that will be used in lock query
<DT><B>Returns:</B><DD>positions that are locked.</DL>
</DD>
</DL>
<HR>

<A NAME="checkLockExists(org.kuali.kfs.module.bc.businessobject.BudgetConstructionLockSummary)"><!-- --></A><H3>
checkLockExists</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.364"><B>checkLockExists</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockSummary.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockSummary</A>&nbsp;lockSummary)</PRE>
<DL>
<DD>Helper method to check if a lock exists for the given parameters.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockSummary</CODE> - - contains information about the record to unlock
<DT><B>Returns:</B><DD>boolean true if lock exists, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="doUnlock(org.kuali.kfs.module.bc.businessobject.BudgetConstructionLockSummary)"><!-- --></A><H3>
doUnlock</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.372"><B>doUnlock</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockSummary.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockSummary</A>&nbsp;lockSummary)</PRE>
<DL>
<DD>Helper method to check the lock type and do the unlock with the lock summary fields.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lockSummary</CODE> - - contains information about the record to unlock
<DT><B>Returns:</B><DD>LockStatus.SUCCESS, NO_DOOR (not found), OPTIMISTIC_EX (lost optimistic lock)</DL>
</DD>
</DL>
<HR>

<A NAME="isAccountLockedByUser(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
isAccountLockedByUser</H3>
<PRE>
boolean <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.381"><B>isAccountLockedByUser</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;budgetConstructionHeader,
                              org.kuali.rice.kim.bo.Person&nbsp;person)</PRE>
<DL>
<DD>determine whether the account lock on the given budget document is held by the the specified user
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>budgetConstructionHeader</CODE> - the given budget document<DD><CODE>person</CODE> - the specified user
<DT><B>Returns:</B><DD>true if the account lock on the given budget document is held by the the specified user; otherwise, false</DL>
</DD>
</DL>
<HR>

<A NAME="lockPendingBudgetConstructionAppointmentFundingRecords(java.util.List, org.kuali.rice.kim.bo.Person)"><!-- --></A><H3>
lockPendingBudgetConstructionAppointmentFundingRecords</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt; <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.392"><B>lockPendingBudgetConstructionAppointmentFundingRecords</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/PendingBudgetConstructionAppointmentFunding.html" title="class in org.kuali.kfs.module.bc.businessobject">PendingBudgetConstructionAppointmentFunding</A>&gt;&nbsp;fundingRecords,
                                                                                                         org.kuali.rice.kim.bo.Person&nbsp;user)
                                                                                                         throws <A HREF="../../../../../../../org/kuali/kfs/module/bc/exception/BudgetConstructionLockUnavailableException.html" title="class in org.kuali.kfs.module.bc.exception">BudgetConstructionLockUnavailableException</A></PRE>
<DL>
<DD>Retrieves account locks for funding records, for use in the payrate import process. Throws
 BudgetConstructionLockUnavailableException if new account lock is unavailable
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fundingRecords</CODE> - <DD><CODE>user</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../org/kuali/kfs/module/bc/exception/BudgetConstructionLockUnavailableException.html" title="class in org.kuali.kfs.module.bc.exception">BudgetConstructionLockUnavailableException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="lockAccountAndCommit(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader, java.lang.String)"><!-- --></A><H3>
lockAccountAndCommit</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.403"><B>lockAccountAndCommit</B></A>(<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionHeader.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionHeader</A>&nbsp;bcHeader,
                                                  <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Retrives an account lock (@see
 org.kuali.kfs.module.bc.document.service.LockService#lockAccount(org.kuali.kfs.module.bc.businessobject.BudgetConstructionHeader,
 java.lang.String) and commits the lock. Used by the request import process.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bcHeader</CODE> - <DD><CODE>principalId</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="lockPositionAndActiveFunding(java.lang.Integer, java.lang.String, java.lang.String)"><!-- --></A><H3>
lockPositionAndActiveFunding</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/businessobject/BudgetConstructionLockStatus.html" title="class in org.kuali.kfs.module.bc.businessobject">BudgetConstructionLockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.414"><B>lockPositionAndActiveFunding</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;universityFiscalYear,
                                                          <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                                          <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Locks the position record for the given key if not already locked. Then retrieves all active funding lines for the position
 that are not marked as delete and attempts to lock each one.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>universityFiscalYear</CODE> - budget fiscal year, primary key field for position record<DD><CODE>positionNumber</CODE> - position number, primary key field for position record<DD><CODE>principalId</CODE> - current user requesting the lock
<DT><B>Returns:</B><DD><code>BudgetConstructionLockStatus</code> indicating the status of the lock attempt. Success is returned if all lock attempts were successful, else one of the Failure status codes are returned</DL>
</DD>
</DL>
<HR>

<A NAME="unlockPositionAndActiveFunding(java.lang.Integer, java.lang.String, java.lang.String)"><!-- --></A><H3>
unlockPositionAndActiveFunding</H3>
<PRE>
<A HREF="../../../../../../../org/kuali/kfs/module/bc/BCConstants.LockStatus.html" title="enum in org.kuali.kfs.module.bc">BCConstants.LockStatus</A> <A HREF="../../../../../../../src-html/org/kuali/kfs/module/bc/document/service/LockService.html#line.424"><B>unlockPositionAndActiveFunding</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A>&nbsp;universityFiscalYear,
                                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;positionNumber,
                                                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;principalId)</PRE>
<DL>
<DD>Unlocks the position and all associated funding lines not marked as delete.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>universityFiscalYear</CODE> - budget fiscal year, primary key field for position record<DD><CODE>positionNumber</CODE> - position number, primary key field for position record<DD><CODE>principalId</CODE> - current user requesting the unlock
<DT><B>Returns:</B><DD><code>LockStatus</code> indicating the status of the unlock attempt.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LockService.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/CalculatedSalaryFoundationTrackerOverrideService.html" title="interface in org.kuali.kfs.module.bc.document.service"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../org/kuali/kfs/module/bc/document/service/OrganizationBCDocumentSearchService.html" title="interface in org.kuali.kfs.module.bc.document.service"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?org/kuali/kfs/module/bc/document/service/LockService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LockService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2005-2012 <a href="http://www.kuali.org/">The Kuali Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
